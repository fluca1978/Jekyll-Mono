---
layout: post
title: Avoid Booleans!
date: '2011-09-16T18:18:00.000+02:00'
author: Luca Ferrari
tags:
- programmazione
- programming best practice
modified_time: '2011-09-16T18:18:00.654+02:00'
blogger_id: tag:blogger.com,1999:blog-1836481905487384887.post-3443372155154889339
blogger_orig_url: http://fluca1978.blogspot.com/2011/09/avoid-booleans.html
---

Booleans are a tempting thing introduced with modern languages, and that  have been always emulated in ancient languages. After all, who haven't  written at least once a couple of C macros like the followings?<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;#define TRUE&nbsp; 1</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /> <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;#define FALSE 0</span><br /><br />A lot of libraries, including GNU, defines them too!<br />The problem with booleans is that they can easily become a source of  mess, making the code a lot less readable and understandable. Of course  booleans are easy to understand when they are used as conditionals, such  as in if, while, do-while, and so on, but they can hide a lot of  behaviour when they are placed as arguments in method calls. To start  with a simple example, consider the following method call:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; createNewFileOverwriting( "/tmp/blog.txt", true );</span><br /><br />What does the method do? Well, we can expect that the method will create  a new file overwriting it if the file already exists. Only a good  documentation can say what that "true" really means. But what if the  method call was:<br /><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /> <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; createNewFile( "/tmp/blog.txt", true );</span><br /><br />Less clear to understand, huh? Here the "true" could mean "overwrite the  file if it exists", or "create the directory if it does not exists", or  something else. There are also worst examples:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; repaint( false );</span><br /><br />What does it mean? That it should not execute repaint? Most probably  that it should not repaint immediatly, but as soon as possible. In this  case a more comprensive method name would help:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; repaintImmediatly( false );</span><br /><br />The above are just simple examples, but libraries are full of such  conditions. How can the above code be improved? Simply by creating  constants with meaningful names, substituting booleans with  enumerations. Now read the code that follows and consider if it is  clearer to understand that the above examples:<br /><br /><br /><div style="text-align: left;"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp; repaint( REPAINT_IMMEDIATLY );&nbsp;&nbsp; // corresponds to repaint( true );</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" />     <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp; repaint( REPAINT_LAZY );&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // corresponds to repaint( false );</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" />     <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp; createNewFile( "/tmp/blog.txt",&nbsp;</span></span></div><div style="text-align: left;"><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CREATE_DIRECTORY_IF_NOT_EXISTS | OVERWRITE_FILE_IF_EXISTS );&nbsp;&nbsp;&nbsp;</span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /></div><br />So with a little extra typing you can produce code that is really much  clear to read and to understand, and therefore to mantain.