---
layout: post
title: 'Maven & Log4J: dependency error'
date: '2011-06-15T14:36:00.003+02:00'
author: Luca Ferrari
tags:
- maven
- java
modified_time: '2011-06-15T14:36:00.471+02:00'
blogger_id: tag:blogger.com,1999:blog-1836481905487384887.post-1460020999015129025
blogger_orig_url: http://fluca1978.blogspot.com/2011/06/maven-log4j-dependency-error.html
---

<div style="text-align: justify;">Maven e' un ottimo sistema di compilazione/configurazione di un progetto Java, e la scelta di usare degli artifacts che vengono scaricati e configurati automaticamente e' veramente eccellente. Mai mi sarei aspettato di ottenere un errore piuttosto criptico da un progetto molto semplice che richiedeva la presenza di log4j. Eseguendo il processo di compilazione ottenevo l'errore:<br /><br /><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">[ERROR] Failed to execute goal on project XYZ: Could not resolve dependencies for project XYZ:XYZ:jar:0.2-STABLE: The following artifacts could not be resolved: com.sun.jdmk:jmxtools:jar:1.2.1, com.sun.jmx:jmxri:jar:1.2.1: Could not transfer artifact com.sun.jdmk:jmxtools:jar:1.2.1 from/to java.net (https://maven-repository.dev.java.net/nonav/repository): No connector available to access repository java.net (https://maven-repository.dev.java.net/nonav/repository) of type legacy using the available factories WagonRepositoryConnectorFactory</span></div><br /><br />Ebbene l'errore di cui sopra e' generato dall'impossibilita' di scaricare alcuni jar dal sito di java.net, ma a parte questo, essendo il mio progetto molto semplice, tali jar non erano nemmeno richiesti! Il problema e' nelle dipendenze di Log4J che dalla versione 1.2.15 hanno delle dipendenze sui suddetti package. Ma se tali package non vengono usati e' possibile escluderli dal processo di compilazione/download modificando il file pom come segue:<br /><br /><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&lt;dependency&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;log4j&lt;/groupId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;version&gt;1.2.15&lt;/version&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;scope&gt;compile&lt;/scope&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&lt;exclusions&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;javax.mail&lt;/groupId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;mail&lt;/artifactId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;/exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;javax.jms&lt;/groupId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;jms&lt;/artifactId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;/exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;/exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;jmxri&lt;/artifactId&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;/exclusion&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp; &lt;/exclusions&gt;</span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;"><br /></span></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;">&nbsp;&nbsp;&nbsp; &lt;/dependency&gt;</span></div><br /><br />Con questa modifica la compilazione di progetti che richiedono le funzionalita' "standard" di Log4J avverra' senza problemi.</div>