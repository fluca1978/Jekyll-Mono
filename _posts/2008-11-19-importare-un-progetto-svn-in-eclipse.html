---
layout: post
title: Importare un progetto SVN in Eclipse gestendolo con Git
date: '2008-11-19T17:01:00.000+01:00'
author: Luca Ferrari
tags:
- eclipse
- git
- aspectj
- java
- svn
modified_time: '2008-11-19T17:43:44.875+01:00'
thumbnail: http://4.bp.blogspot.com/_yhEX77VFKnM/SSQ8TiX_Q5I/AAAAAAAAAO8/-Yn3zfaBVNc/s72-c/eclipse_git1.png
blogger_id: tag:blogger.com,1999:blog-1836481905487384887.post-1721410045654726114
blogger_orig_url: http://fluca1978.blogspot.com/2008/11/importare-un-progetto-svn-in-eclipse.html
---

Al fine di meglio apprendere <a href="http://git.or.cz/">Git</a>, il sistema di gestione dei sorgenti appositamente sviluppato per il Kernel di Linux (ma usato anche in altri progetti), ho deciso di convertire un progetto Java che gestisco con un repository SVN in un repository Git.<br />Su questo progetto lavoro pressocché da solo, usando Eclipse e i tools SVN sviluppati dal gruppo di SVN stesso, quindi non dovrei molti problemi nella migrazione. Per sicurezza ho deciso di mantenere per alcuni giorni entrambi i progetti in Eclipse, così da poter tornare abbastanza semplicemente al sistema SVN in caso di problemi.<br />Di seguito i passi necessari all'installazione di <a href="http://git.or.cz/gitwiki/EclipsePlugin">EGit</a>, il plug-in per Eclipse/Git e per l'importazione del progetto.<br /><br /><span style="font-weight: bold;">Installazione del plug-in per Eclipse: EGit<br /></span>L'installazione del plugin non è un'operazione banale, poiché occorre importare i vari sotto progetti in Eclipse e compilarli a mano. In particolare occorre seguire i passi:<br /><ul><li>scaricare i progetti di EGit in una directory temporanea con il comando <em>git clone git://repo.or.cz/egit.git<br /></em></li></ul><ul><li>importare i progetti in Eclipse. Per fare questo selezionare da Eclipse il menù <span style="font-style: italic;">File->Import->existing projects into workspace</span> e verificare che i progetti compaiano nel project explorer.</li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_yhEX77VFKnM/SSQ8TiX_Q5I/AAAAAAAAAO8/-Yn3zfaBVNc/s1600-h/eclipse_git1.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 277px; height: 208px;" src="http://4.bp.blogspot.com/_yhEX77VFKnM/SSQ8TiX_Q5I/AAAAAAAAAO8/-Yn3zfaBVNc/s320/eclipse_git1.png" alt="" id="BLOGGER_PHOTO_ID_5270403770272924562" border="0" /></a><br /><ul><li>ora occorre compilare i progetti, per fare questo occorre darre il classi <span style="font-style: italic;">Build-All</span> dal menù <span style="font-style: italic;">Project</span>. Questo passo è opzionale se avete abilitato il build automatico dei progetti.</li><li>occorre ora esportare un plug-in compatibile per Eclipse, quindi dal menù <span style="font-style: italic;">File->Export</span> si seleziona la voce <span style="font-style: italic;">Plug-in and fragments</span>. E' necessario impostare come percorso la root dell'installazione corrente di Eclipse.<br /></li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_yhEX77VFKnM/SSQ8sf1ruTI/AAAAAAAAAPE/QxCUg90lX-U/s1600-h/eclipse_git2.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 214px;" src="http://3.bp.blogspot.com/_yhEX77VFKnM/SSQ8sf1ruTI/AAAAAAAAAPE/QxCUg90lX-U/s320/eclipse_git2.png" alt="" id="BLOGGER_PHOTO_ID_5270404199088896306" border="0" /></a><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_yhEX77VFKnM/SSQ85pgDYpI/AAAAAAAAAPM/AiMoE9zAeYQ/s1600-h/eclipse_git3.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 234px;" src="http://4.bp.blogspot.com/_yhEX77VFKnM/SSQ85pgDYpI/AAAAAAAAAPM/AiMoE9zAeYQ/s320/eclipse_git3.png" alt="" id="BLOGGER_PHOTO_ID_5270404425020826258" border="0" /></a><br /><ul><li>a questo punto è possibile riavviare Eclipse, cancellare la directory temporanea dove si sono scaricati i sorgenti di EGit, rimuovere i progetti dal project manager e verificare che il plugin sia installato. In particolare per questo è sufficiente controllare che nell'import ci sia una voce <span style="font-style: italic;">Git</span>.</li></ul><br /><span style="font-weight: bold;">Conversione di un progetto SVN in repository Git<br /></span>Nel mio caso il progetto SVN si chiama HRPM e risiede su una macchina remota. Dopo aver installato sulla mia macchina tutti i tool git, fra i quali git-svn, posso importare il progetto SVN in un repository locale git con la seguente procedura:<br /><ul><li>creare una directory dove inserire il repository, entrare nella directory e inizializzare il repository git: <span style="font-style: italic;">git-svn init svn+ssh://host/sviluppo/svn//hrpm</span></li><li>importare i sorgenti con il comando<span style="font-style: italic;"> git-svn fetch -r900 </span>(dove 900 rappresenta il numero di revisione a cui il repository SVN è arrivato)<span style="font-style: italic;"></span></li><li>dopo qualche secondo (o qualche minuto), il repository git sarà pronto al suo utilizzo. E' ora possibile usare questo repository o importarlo in Eclipse.</li><li>(opzionale) siccome il progetto importato nel repository contiene lo stesso nome del suo fratello su SVN, qualora si vogliano mantenere entrambi i progetti è necessario editare il file <span style="font-style: italic;">.project</span> che si trova nella directory dei sorgenti cambiandone il nome, come ad esempio in HRPM-git.<br /></li></ul><span style="font-weight: bold;">Importare il progetto i</span><span style="font-weight: bold;">n Eclipse<br /></span>Avendo ora il progetto su un repository Git è possibile importare il progetto all'interno di Eclipse:<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_yhEX77VFKnM/SSQ-hiREkqI/AAAAAAAAAPU/t2njhq1VYic/s1600-h/eclipse_git4.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 287px;" src="http://1.bp.blogspot.com/_yhEX77VFKnM/SSQ-hiREkqI/AAAAAAAAAPU/t2njhq1VYic/s320/eclipse_git4.png" alt="" id="BLOGGER_PHOTO_ID_5270406209785336482" border="0" /></a><br /><span style="font-weight: bold;"></span><ul><li>dal menù <span style="font-style: italic;">File->Import-></span><span style="font-style: italic;">Git</span> selezionare la voce <span style="font-style: italic;">Git-</span><span style="font-style: italic;">Repository</span>;</li><li>selezionare nella dialog che si apre la voce <span style="font-style: italic;">file</span> e specificare il percorso dove risiede il repository git;<br /></li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_yhEX77VFKnM/SSQ-yrlKm_I/AAAAAAAAAPc/ltv-msg79I0/s1600-h/eclipse_git5.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 287px;" src="http://3.bp.blogspot.com/_yhEX77VFKnM/SSQ-yrlKm_I/AAAAAAAAAPc/ltv-msg79I0/s320/eclipse_git5.png" alt="" id="BLOGGER_PHOTO_ID_5270406504343313394" border="0" /></a><br /><ul><li>la dialog successiva chiede quale branch si vuole importare. Siccome il repository è appena stato creato, il branch master è quello selezionato per default.<br /></li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_yhEX77VFKnM/SSQ_TqfZYGI/AAAAAAAAAPk/b5H2tidX-TU/s1600-h/eclipse_git6.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 287px;" src="http://2.bp.blogspot.com/_yhEX77VFKnM/SSQ_TqfZYGI/AAAAAAAAAPk/b5H2tidX-TU/s320/eclipse_git6.png" alt="" id="BLOGGER_PHOTO_ID_5270407070986362978" border="0" /></a><br /><ul><li>a questo punto il progetto è importato, ma non ancora visibile in Eclipse: esiste la cartella corrispondente nel workspace, ma non il progetto nel project explorer. Per far comparire il progetto, è necessario procedere ad una successiva importazione di un progetto esistente: <span style="font-style: italic;">File->Import->Existing Project into Workspace</span> come mostrato di seguito</li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_yhEX77VFKnM/SSQ_3yqhOrI/AAAAAAAAAPs/b3XKZ0-HYTE/s1600-h/eclipse_git7.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 287px;" src="http://3.bp.blogspot.com/_yhEX77VFKnM/SSQ_3yqhOrI/AAAAAAAAAPs/b3XKZ0-HYTE/s320/eclipse_git7.png" alt="" id="BLOGGER_PHOTO_ID_5270407691655789234" border="0" /></a><br /><ul><li>si specifica la directory che contiene il progetto (ATTENZIONE: questa volta si deve specificare la directory all'interno del workspace) e si vedrà comparire il progetto fra quelli selezionabili. Qualora esista già un progetto con lo stesso nome Eclipse non mostrerà nessun progetto selezionabile.</li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_yhEX77VFKnM/SSRATk9SYHI/AAAAAAAAAP0/BUCTS-Prlgw/s1600-h/eclipse_git8.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 287px;" src="http://3.bp.blogspot.com/_yhEX77VFKnM/SSRATk9SYHI/AAAAAAAAAP0/BUCTS-Prlgw/s320/eclipse_git8.png" alt="" id="BLOGGER_PHOTO_ID_5270408169012748402" border="0" /></a><br /><ul><li>e il progetto verrà visualizzato nel project explorer. Non è ancora finita, perché il progetto è locale, e non verrà gestito da Git. Occorre quindi fare click destro sul progetto, selezionare <span style="font-style: italic;">Team->Share Project</span> e usare Git come metodo di condivisione.</li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_yhEX77VFKnM/SSRAwRn2GTI/AAAAAAAAAP8/AYeGL97Mk_M/s1600-h/eclipse_git9.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 223px;" src="http://2.bp.blogspot.com/_yhEX77VFKnM/SSRAwRn2GTI/AAAAAAAAAP8/AYeGL97Mk_M/s320/eclipse_git9.png" alt="" id="BLOGGER_PHOTO_ID_5270408662038747442" border="0" /></a><br /><ul><li>da ultimo si informa Eclipse di usare un repository esistente, e il gioco è fatto.</li></ul><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_yhEX77VFKnM/SSRA-xYuwhI/AAAAAAAAAQE/mjMiITZtXFs/s1600-h/eclipse_git10.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 320px; height: 223px;" src="http://4.bp.blogspot.com/_yhEX77VFKnM/SSRA-xYuwhI/AAAAAAAAAQE/mjMiITZtXFs/s320/eclipse_git10.png" alt="" id="BLOGGER_PHOTO_ID_5270408911083454994" border="0" /></a><br />La cosa interessante è che il procedimento ha funzionato perfettamente nonostante il mio progetto fosse non un semplice progetto Java, bensì un progetto AspectJ. L'unica pecca del plug-in, almeno ad una prima vista, è l'utilizzo dei caratteri in stile CVS per indicare che il contenuto necessita di commit/aggiornamenti, mentre l'uso delle icone del plug-in SVN è sicuramente più gradevole.<br /><br />Link utili:<br /><a href="http://cho.hapgoods.com/wordpress/?p=159">Eclipse Git Plugin Installation</a><br /><a href="http://github.com/guides/a-dummy-using-egit-with-github">A dummy guide to use Egit</a>