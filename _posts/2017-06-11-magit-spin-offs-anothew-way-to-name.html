---
layout: post
title: 'Magit spin-offs: another way to name a tracking branch.'
date: '2017-06-11T18:48:00.000+02:00'
author: Luca Ferrari
tags:
- emacs
- planet-emacsen-org
modified_time: '2017-06-23T18:22:18.352+02:00'
thumbnail: https://1.bp.blogspot.com/-dpfdpiGXwNs/WTzneT9x6kI/AAAAAAAAFJg/gEHyho-_dNc3oYypTBZRf5SD11pXdpT7ACLcB/s72-c/git1.png
blogger_id: tag:blogger.com,1999:blog-1836481905487384887.post-8525251030559358060
blogger_orig_url: http://fluca1978.blogspot.com/2017/06/magit-spin-offs-anothew-way-to-name.html

permalink: /:year/:month/:day/:title.html
---


<h1>~</h1>


A few days ago my attention was caught by an entry in the <i>Magit Branch Pop-up</i> buffer: <code>Create a new spin-off</code>.<br />Uh?<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-dpfdpiGXwNs/WTzneT9x6kI/AAAAAAAAFJg/gEHyho-_dNc3oYypTBZRf5SD11pXdpT7ACLcB/s1600/git1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="547" data-original-width="923" height="189" src="https://1.bp.blogspot.com/-dpfdpiGXwNs/WTzneT9x6kI/AAAAAAAAFJg/gEHyho-_dNc3oYypTBZRf5SD11pXdpT7ACLcB/s320/git1.png" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-e6tftjmZQk4/WTzneQqY0cI/AAAAAAAAFJo/jkx84OHFMY0y-iDd3hsuPHiFJIhqcnTEACLcB/s1600/git2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><br /></a></div>What the hell is a spin off?<br />According to the <a href="https://magit.vc/manual/magit/The-Branch-Popup.html#The-Branch-Popup">Magit Branching documentation</a>, a <i>spin-off</i> is nothing more than a <i>tracking branch</i>.<br />A tracking branch, created on the <code>git</code> side with the <code>-t</code> switch, is a branch that knows (i.e., it has<br />knowlegde) about the branch it was originated from. Well, every branch in git has, of course, knowlegde<br />about its ancestor branch (how would you merge otherwise?), but in this case<br />the knoweldge is made explicit by the <i>tracking</i> feature.<br /><br /><br />In particular, when a tracking branch is checked out <code>git</code> advices about commits that made the<br />current (tracking) branch diverging from its ancestor, something like the following:<br /><br /><br /><div class="org-src-container"><br /><pre class="src src-sh">% git checkout b<br />Switched to branch 'b'<br />Your branch and 'master' have diverged,<br />and have 1 and 2 different commits each, respectively.<br />  (use "git pull" to merge the remote branch into yours)<br /></pre></div><br />In the above example you can see that the <code>b</code> branch is <i>behind</i> <code>master</code> two commits, as well as <i>after</i> master by one commit.<br />In other words, your <code>b</code> branch has done a single commit while <code>master</code> advanced by two other commits. As <code>git</code><br />suggests, you can <code>pull</code> and <code>git</code> will automagically fetch updates from the <code>master</code> branch into <code>b</code>.<br />And in fact:<br /><br /><br /><div class="org-src-container"><br /><pre class="src src-sh">% git pull<br />From .<br /> * branch            master     -&gt; FETCH_HEAD<br />Merge made by the 'recursive' strategy.<br /></pre></div><br />The <i>tracking</i> is useful to know transparently when and how (much) your branch is diverging from the source, and this of course<br />is true both for local commits and remote ones:<br /><br /><br /><div class="org-src-container"><br /><pre class="src src-sh">% git status<br />On branch b<br />Your branch is ahead of 'master' by 2 commits.<br />  (use "git push" to publish your local commits)<br />nothing to commit, working tree clean<br /></pre></div><br />What happens into Magit? Well, once you checkout a tracking branch the popup buffer shows that is unmerged from the source branch, and<br />it does suffice to <code>F</code> pull to prompt the merging popup.<br /><br /><br /><br /><a href="https://3.bp.blogspot.com/-BENhFGSE3RU/WTznef0tctI/AAAAAAAAFJk/XkbvIzGgklsYKXkCw-stbMh1N4AUKhyHwCLcB/s1600/git3.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="355" data-original-width="661" height="213" src="https://3.bp.blogspot.com/-BENhFGSE3RU/WTznef0tctI/AAAAAAAAFJk/XkbvIzGgklsYKXkCw-stbMh1N4AUKhyHwCLcB/s400/git3.png" width="400" /></a><a href="https://1.bp.blogspot.com/-e6tftjmZQk4/WTzneQqY0cI/AAAAAAAAFJo/jkx84OHFMY0y-iDd3hsuPHiFJIhqcnTEACLcB/s1600/git2.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="214" data-original-width="522" height="163" src="https://1.bp.blogspot.com/-e6tftjmZQk4/WTzneQqY0cI/AAAAAAAAFJo/jkx84OHFMY0y-iDd3hsuPHiFJIhqcnTEACLcB/s400/git2.png" width="400" /></a><br /><br />So, to recap, a Magit <i>spin-off</i> lies a <i>tracking</i> branch, which in turn is a branch explicitly aware of what makes it different<br />from the source branch. This is useful, for instance, for features and short living development branches that are going to be merged<br />surely by design and must be kept up to date from the normale release history. I don't see the point in using tracking into<br />versions branches.