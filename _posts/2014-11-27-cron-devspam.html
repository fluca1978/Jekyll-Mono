---
layout: post
title: cron > /dev/spam
date: '2014-11-27T12:49:00.003+01:00'
author: Luca Ferrari
tags:
- sysadmin panics
modified_time: '2014-11-27T12:49:31.606+01:00'
thumbnail: http://2.bp.blogspot.com/-kSedqMV5VOw/VHcPPh59QKI/AAAAAAAACEs/BPyw6GYdFOg/s72-c/cron.png
blogger_id: tag:blogger.com,1999:blog-1836481905487384887.post-1574431557455643657
blogger_orig_url: http://fluca1978.blogspot.com/2014/11/cron-devspam.html
---

<div style="text-align: justify;">Penso sia capitato piu' o meno a tutti i sysadmin di qualunque razza, età e professionalità di crearsi uno o piu' programmi o script per il monitoring di una qualche risorsa specifica. Non importa quale sistema di monitoring si usi, prima o poi occorre qualche riga di codice Perl o Shell per tenere sotto controllo una risorsa, il classico <i>quick and dirty</i>.</div><div style="text-align: justify;">E siccome i sysadmin sono anche pigri, meglio dotare il proprio script di un alert via e-mail quando qualcosa va male.</div><div style="text-align: justify;">E per essere proprio sicuri che il disastro non passi inosservato si manderà tale alert a piu' persone, in modo che anche in caso di assenza qualcuno possa dominare la situazione.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Fin qui tutto regolare, nulla di sconvolgente.</div><div style="text-align: justify;">Se non fosse che ci sono sysadmin che semplicemente ignorano gli alert inviati da cron (e per esperienza sono gli stessi che fanno un update senza leggere le release notes!). Diversi anni fa ne ho conosciuta una tipologia che non solo ignorava gli alert, ma li classificava anche come spam!</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Come ci si accorge di un simile atteggiamento? Ebbene io diversi anni me ne accorsi perché, durante una giornata di ferie, ricevetti una telefonata che mi informava che il servizio di posta si rifiutava di inviare nuove e-mail. Apparentemente un problema al demone stesso, o questo è quello che si pensa subito, fino a quando non ci si collega e si trova nella propria inbox qualche pagina come segue:</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-kSedqMV5VOw/VHcPPh59QKI/AAAAAAAACEs/BPyw6GYdFOg/s1600/cron.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-kSedqMV5VOw/VHcPPh59QKI/AAAAAAAACEs/BPyw6GYdFOg/s1600/cron.png" height="320" width="144" /></a></div><br /><br /><div style="text-align: justify;">In breve il server di posta aveva, in un certo senso, fatto il suo dovere collassando sotto l'enorme mole di e-mail inviate da uno script che ogni minuto controllava una risorsa non disponibile inviando poi una mail di lamentela.</div><div style="text-align: justify;">E ovviamente, nessuno prima si era accorto del fattaccio perché le e-mail veniva scartate a priori....</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Quindi meglio essere sicuri che le e-mail siano trattate per quello che sono: delle risorse che vanno anch'esse controllato (manualmente). E meglio anche evitare che ogni minuto uno script fatto a mano si incazzi!</div><br />