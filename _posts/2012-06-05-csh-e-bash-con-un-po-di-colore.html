---
layout: post
title: csh e bash con un po' di colore
date: '2012-06-05T18:13:00.000+02:00'
author: Luca Ferrari
tags:
- linux
- freebsd
- shell
modified_time: '2012-06-05T18:13:00.057+02:00'
thumbnail: http://2.bp.blogspot.com/-P7bC8BuMeJ8/T8zdlEGuMaI/AAAAAAAAAlg/y2ku1PEnPR4/s72-c/prompt1.png
blogger_id: tag:blogger.com,1999:blog-1836481905487384887.post-1768411648842585025
blogger_orig_url: http://fluca1978.blogspot.com/2012/06/csh-e-bash-con-un-po-di-colore.html

permalink: /:year/:month/:day/:title.html
---


<h1>~</h1>


<div style="text-align: justify;">Il terminale è l'unico vero strumento affidabile di ogni buon sistema, l'amico fidato dell'amministratore di sistema. Personalmente uso dei temi a sfondo scuro che affaticano poco gli occhi, ma a volte dover tenere aperte diverse sessioni fra macchine diverse e con sistemi diversi può causare un po' di confusione. Ho quindi elaborato un <i>prompt personalizzato</i> della CSH (non la migliore shell al mondo, ma comunque la vera shell Unix) che mostra in maniera un po' piu' colorata non solo utente e percorso ma anche il kernel usato (o meglio l'id del sistema) e il numero di comandi dati (utile per l'uso di <i>history</i>). Si passa quindi da:</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-P7bC8BuMeJ8/T8zdlEGuMaI/AAAAAAAAAlg/y2ku1PEnPR4/s1600/prompt1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="19" src="http://2.bp.blogspot.com/-P7bC8BuMeJ8/T8zdlEGuMaI/AAAAAAAAAlg/y2ku1PEnPR4/s320/prompt1.png" width="320" /></a></div>&nbsp;ad un prompt un po' piu' ricco come:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-ujOX8l4UDrs/T8zdnzN7msI/AAAAAAAAAlo/TZA_zmOrm_k/s1600/prompt2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="11" src="http://4.bp.blogspot.com/-ujOX8l4UDrs/T8zdnzN7msI/AAAAAAAAAlo/TZA_zmOrm_k/s400/prompt2.png" width="400" /></a></div><br /><div style="text-align: justify;">Per attivare un prompt del genere, districandosi un po' fra le sequenze di escape, è possibile impostare la variabile <i>prompt</i> come segue:</div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;"><br /></span></div><span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">set prompt="%{\033[0;1;33m%}%B[%{\033[0;1;37m%}%n%{\033[0;1;31m%}@%{\033[0;1;37m%}%M%{\033[0;1;33m%} %{\033[0;1;34m%}{{ "{%" }}{\033[0;1;36m%}`uname -n -r`%{\033[0;1;34m%}}%{\033[0;1;33m%}] %{\033[0;1;32m%}%b%/%{\033[0;1;33m%} (%{\033[0;1;37m%}%h%{\033[0;1;33m%}) %{\033[0;1;36m%}%{\033[0;1;32m%}&gt;%{\033[0;1;37m%} "</span></span><br /><br /><div style="text-align: justify;">Qualcosa di simile può essere ottenuto anche per la Bash, agendo sulla variabile PS1, ma il comportamento delle sequenze di escape è un po' piu' rognoso e produce qualche effetto collaterale (lunghezza fissa della linea di input):</div><br /><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: x-small;"><span style="font-size: xx-small;"># Reset<br />Reset='\e[0m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Text Reset<br /><br /># Regular Colors<br />Black='\e[0;30m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Black<br />Red='\e[0;31m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Red<br />Green='\e[0;32m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Green<br />Yellow='\e[0;33m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Yellow<br />Blue='\e[0;34m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Blue<br />Purple='\e[0;35m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Purple<br />Cyan='\e[0;36m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Cyan<br />White='\e[0;37m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # White<br /><br /># Bold<br />BBlack='\e[1;30m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Black<br />BRed='\e[1;31m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Red<br />BGreen='\e[1;32m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Green<br />BYellow='\e[1;33m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Yellow<br />BBlue='\e[1;34m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Blue<br />BPurple='\e[1;35m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Purple<br />BCyan='\e[1;36m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Cyan<br />BWhite='\e[1;37m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # White<br /><br /># Underline<br />UBlack='\e[4;30m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Black<br />URed='\e[4;31m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Red<br />UGreen='\e[4;32m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Green<br />UYellow='\e[4;33m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Yellow<br />UBlue='\e[4;34m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Blue<br />UPurple='\e[4;35m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Purple<br />UCyan='\e[4;36m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Cyan<br />UWhite='\e[4;37m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # White<br /><br /># Background<br />On_Black='\e[40m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Black<br />On_Red='\e[41m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Red<br />On_Green='\e[42m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Green<br />On_Yellow='\e[43m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Yellow<br />On_Blue='\e[44m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Blue<br />On_Purple='\e[45m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Purple<br />On_Cyan='\e[46m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Cyan<br />On_White='\e[47m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # White<br /><br /># High Intensty<br />IBlack='\e[0;90m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Black<br />IRed='\e[0;91m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Red<br />IGreen='\e[0;92m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Green<br />IYellow='\e[0;93m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Yellow<br />IBlue='\e[0;94m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Blue<br />IPurple='\e[0;95m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Purple<br />ICyan='\e[0;96m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Cyan<br />IWhite='\e[0;97m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # White<br /><br /># Bold High Intensty<br />BIBlack='\e[1;90m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Black<br />BIRed='\e[1;91m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Red<br />BIGreen='\e[1;92m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Green<br />BIYellow='\e[1;93m'&nbsp;&nbsp;&nbsp;&nbsp; # Yellow<br />BIBlue='\e[1;94m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Blue<br />BIPurple='\e[1;95m'&nbsp;&nbsp;&nbsp;&nbsp; # Purple<br />BICyan='\e[1;96m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Cyan<br />BIWhite='\e[1;97m'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # White<br /><br /># High Intensty backgrounds<br />On_IBlack='\e[0;100m'&nbsp;&nbsp; # Black<br />On_IRed='\e[0;101m'&nbsp;&nbsp;&nbsp;&nbsp; # Red<br />On_IGreen='\e[0;102m'&nbsp;&nbsp; # Green<br />On_IYellow='\e[0;103m'&nbsp; # Yellow<br />On_IBlue='\e[0;104m'&nbsp;&nbsp;&nbsp; # Blue<br />On_IPurple='\e[10;95m'&nbsp; # Purple<br />On_ICyan='\e[0;106m'&nbsp;&nbsp;&nbsp; # Cyan<br />On_IWhite='\e[0;107m'&nbsp;&nbsp; # White</span><br /><br /><br /><br />PS1="${BYellow}\u${Reset}"<br />PS1="${PS1}${Reset} @ "<br />PS1="${PS1}${BPurple}\h "<br />PS1="${PS1}${UWhite}\w${Reset} "</span></div><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: x-small;">PS1="${PS1}${BIYellow}(\!)${Reset} "<br />PS1="${PS1}${BIRed} $ "<br />PS1="${PS1}${Reset}"</span>